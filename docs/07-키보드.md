## 키보드 컨트롤러

PC 내부에 존재하는 키보드와 통신하는 모듈, PS2 방식으로 통신하며, 현 시대 PC들에서는 대부분 숨겨져 있다.

### 키보드 컨트롤러의 포트 번호들
- 0x64에 out을 하면 키보드 컨트롤러를 제어함.
- 0x64에 in을 하면 키보드 컨트롤러의 상태를 알 수 있음.
- 0x60에 out을 하면 프로세서가 키보드나 마우스로 보내는 커맨드 또는 데이터를 저장함.
- 0x60에 in을 하면 키보드나 마우스가 프로세서로 보내는 데이터를 저장함.

### 키보드 활성화
일반적으로 BIOS에서 이미 활성화 시켜놓지만, 알아보자.

#### 키보드 컨트롤러에서 키보드 활성화
out 0x64로 0xAE를 보내면 키보드 컨트롤러 내에서 키보드가 활성화됨. 

다만, 키보드 자체가 활성화된 것은 아님.

#### 키보드 자체 활성화
입력 버퍼에 키보드로 보낼 커맨드를 직접 쓴다.

#### 스캔 코드
키가 눌리거나 떨어질 때마다 키에 대한 고유 코드가 0x60으로 온다. 아스키 아님, 따로 아스키로 변환 필요.

키 값을 ASCII로 변환하려면 Shift, Caps Lock, Num Lock, 즉 조합 키의 상태를 알고 있어야함.

또한 스캔 코드 2개 이상이 조합된 확장 키도 처리해야함. 확장 키의 스캔 코드가 1,2,3이라고 하면, 1을 읽으면 다음엔 출력버퍼에 2가 있음.
